/**
 * DevOps Brief Section Styles
 * Theme: Automation & Pipelines
 * Visual: Flow Lines, Containers, Deployment
 */

// ============================================================
// Flow Lines Animation
// ============================================================
.flow-path {
  stroke-dasharray: 10 5;
  animation: flow-dash 3s linear infinite;

  &.flow-path-1 {
    animation-delay: 0s;
  }

  &.flow-path-2 {
    animation-delay: 1s;
  }

  &.flow-path-3 {
    animation-delay: 2s;
  }
}

@keyframes flow-dash {
  0% {
    stroke-dashoffset: 0;
  }
  100% {
    stroke-dashoffset: -30;
  }
}

// RTL: Reverse flow direction
[dir='rtl'] .flow-path {
  animation: flow-dash-rtl 3s linear infinite;
}

@keyframes flow-dash-rtl {
  0% {
    stroke-dashoffset: 0;
  }
  100% {
    stroke-dashoffset: 30;
  }
}

// ============================================================
// Floating Container Elements
// ============================================================
.container-float {
  position: absolute;
  width: 40px;
  height: 40px;
  border: 2px solid;
  border-radius: 8px;
  opacity: 0.2;
  animation: container-float 6s ease-in-out infinite;

  &.container-1 {
    top: 15%;
    left: 8%;
    border-color: #14b8a6;
    animation-delay: 0s;
  }

  &.container-2 {
    top: 60%;
    right: 12%;
    border-color: #8b5cf6;
    animation-delay: 2s;
    width: 32px;
    height: 32px;
  }

  &.container-3 {
    bottom: 25%;
    left: 15%;
    border-color: #3b82f6;
    animation-delay: 4s;
    width: 28px;
    height: 28px;
  }
}

@keyframes container-float {
  0%, 100% {
    transform: translateY(0) rotate(0deg);
    opacity: 0.2;
  }
  50% {
    transform: translateY(-20px) rotate(10deg);
    opacity: 0.4;
  }
}

// ============================================================
// Pipeline Stages
// ============================================================
.pipeline-container {
  padding: 24px;
  background: rgba(255, 255, 255, 0.7);
  border-radius: 20px;
  backdrop-filter: blur(12px);
  border: 1px solid rgba(20, 184, 166, 0.2);
  box-shadow:
    0 4px 24px rgba(20, 184, 166, 0.1),
    0 0 40px rgba(139, 92, 246, 0.05);
}

.dark .pipeline-container {
  background: rgba(30, 41, 59, 0.8);
  border-color: rgba(20, 184, 166, 0.3);
}

.pipeline-stage {
  position: relative;

  &.stage-complete .stage-icon {
    animation: stage-complete 0.5s ease-out;
  }

  &.stage-active {
    .stage-icon {
      animation: stage-pulse 2s ease-in-out infinite;
    }
  }
}

@keyframes stage-complete {
  0% {
    transform: scale(0);
  }
  50% {
    transform: scale(1.2);
  }
  100% {
    transform: scale(1);
  }
}

@keyframes stage-pulse {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(139, 92, 246, 0.4);
  }
  50% {
    box-shadow: 0 0 0 10px rgba(139, 92, 246, 0);
  }
}

// ============================================================
// Pipeline Connector
// ============================================================
.pipeline-connector {
  background: linear-gradient(90deg, #14b8a6, #8b5cf6);
  position: relative;
  transform-origin: left center;
}

[dir='rtl'] .pipeline-connector {
  transform-origin: right center;
}

.connector-flow {
  background: linear-gradient(90deg,
    transparent,
    rgba(255, 255, 255, 0.8),
    transparent
  );
  animation: connector-flow 2s ease-in-out infinite;

  &.flow-active {
    animation: connector-flow-active 1.5s ease-in-out infinite;
  }
}

@keyframes connector-flow {
  0% {
    transform: translateX(-100%);
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
  100% {
    transform: translateX(100%);
    opacity: 0;
  }
}

@keyframes connector-flow-active {
  0% {
    transform: translateX(-100%);
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
  100% {
    transform: translateX(100%);
    opacity: 0;
  }
}

[dir='rtl'] {
  .connector-flow,
  .connector-flow.flow-active {
    animation-direction: reverse;
  }
}

// ============================================================
// Highlight Cards with Gradient Border
// ============================================================
.devops-highlight {
  position: relative;

  .gradient-border {
    position: absolute;
    inset: -2px;
    border-radius: inherit;
    background: linear-gradient(135deg, #14b8a6, #8b5cf6, #3b82f6);
    z-index: -1;
    opacity: 0;
    transition: opacity 0.3s ease;

    &::before {
      content: '';
      position: absolute;
      inset: 2px;
      border-radius: inherit;
      background: inherit;
    }
  }

  &:hover .gradient-border {
    opacity: 0.6;
  }
}

// ============================================================
// Stats Cards
// ============================================================
.devops-stat {
  will-change: transform;

  &:hover {
    border-color: rgba(139, 92, 246, 0.4);
  }
}

.devops-stat-value {
  background: linear-gradient(135deg, #0d9488, #7c3aed);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  font-variant-numeric: tabular-nums;
}

.dark .devops-stat-value {
  background: linear-gradient(135deg, #5eead4, #c4b5fd);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

// ============================================================
// CTA Buttons
// ============================================================
.devops-cta-primary,
.devops-cta-secondary {
  position: relative;
  overflow: hidden;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.2),
      transparent
    );
    transition: left 0.5s ease;
  }

  &:hover::before {
    left: 100%;
  }
}

// ============================================================
// Primary CTA - Tech Gradient Text & Icons (Teal to Violet)
// ============================================================
.devops-cta-primary {
  // Smooth transition for background
  transition: background 0.4s cubic-bezier(0.4, 0, 0.2, 1),
              transform 0.3s ease,
              box-shadow 0.3s ease,
              border-color 0.3s ease;

  // Light mode default: Tech gradient (teal to violet)
  .cta-text-gradient {
    background: linear-gradient(135deg, #0d9488 0%, #14b8a6 40%, #7c3aed 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    font-weight: 600;
    transition: all 0.3s ease;
  }

  // Icon gradient: Tech gradient (teal to violet)
  .cta-icon-gradient {
    background: linear-gradient(135deg, #0d9488 0%, #14b8a6 40%, #8b5cf6 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    transition: all 0.3s ease;
  }

  // Hover: Brand gradient background with white text/icons
  &:hover {
    // Brand gradient: Navy to Teal (from CLAUDE.md)
    background: linear-gradient(135deg, #3D5A80 0%, #5DB7C2 100%) !important;
    border-color: transparent !important;

    .cta-text-gradient {
      background: linear-gradient(135deg, #ffffff 0%, #f0fdfa 50%, #faf5ff 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .cta-icon-gradient {
      background: linear-gradient(135deg, #ffffff 0%, #ccfbf1 50%, #ede9fe 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
  }
}

// Dark mode: White gradient text/icons for primary CTA
.dark .devops-cta-primary {
  .cta-text-gradient {
    background: linear-gradient(135deg, #ffffff 0%, #f0fdfa 50%, #faf5ff 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .cta-icon-gradient {
    background: linear-gradient(135deg, #ffffff 0%, #ccfbf1 50%, #ede9fe 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  &:hover {
    // Brand gradient background for dark mode too (Navy to Teal)
    background: linear-gradient(135deg, #3D5A80 0%, #5DB7C2 100%) !important;

    .cta-text-gradient {
      background: linear-gradient(135deg, #ffffff 0%, #99f6e4 50%, #ddd6fe 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .cta-icon-gradient {
      background: linear-gradient(135deg, #ffffff 0%, #5eead4 50%, #c4b5fd 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
  }
}

// ============================================================
// Secondary CTA - Gradient Text & Icons (Teal to Violet)
// ============================================================
.devops-cta-secondary {
  // Text gradient: teal to violet
  .cta-text-secondary-gradient {
    background: linear-gradient(135deg, #0d9488 0%, #14b8a6 50%, #7c3aed 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    font-weight: 600;
    transition: background 0.3s ease;
  }

  // Icon gradient: teal to violet
  .cta-icon-secondary-gradient {
    background: linear-gradient(135deg, #0d9488 0%, #14b8a6 50%, #8b5cf6 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    transition: background 0.3s ease;
  }

  // Hover: Brighter gradients
  &:hover {
    .cta-text-secondary-gradient {
      background: linear-gradient(135deg, #0f766e 0%, #0d9488 50%, #6d28d9 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .cta-icon-secondary-gradient {
      background: linear-gradient(135deg, #0f766e 0%, #0d9488 50%, #7c3aed 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
  }
}

// Dark mode adjustments
.dark {
  .devops-cta-secondary {
    // Lighter gradients for dark mode
    .cta-text-secondary-gradient {
      background: linear-gradient(135deg, #5eead4 0%, #2dd4bf 50%, #c4b5fd 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .cta-icon-secondary-gradient {
      background: linear-gradient(135deg, #5eead4 0%, #2dd4bf 50%, #a78bfa 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    &:hover {
      .cta-text-secondary-gradient {
        background: linear-gradient(135deg, #99f6e4 0%, #5eead4 50%, #ddd6fe 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .cta-icon-secondary-gradient {
        background: linear-gradient(135deg, #99f6e4 0%, #5eead4 50%, #c4b5fd 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }
    }
  }
}

// ============================================================
// RTL Support
// ============================================================
[dir='rtl'] {
  .devops-cta-primary::before,
  .devops-cta-secondary::before {
    left: auto;
    right: -100%;
  }

  .devops-cta-primary:hover::before,
  .devops-cta-secondary:hover::before {
    right: 100%;
    left: auto;
  }

  .container-float {
    &.container-1 {
      left: auto;
      right: 8%;
    }

    &.container-2 {
      right: auto;
      left: 12%;
    }

    &.container-3 {
      left: auto;
      right: 15%;
    }
  }
}

// ============================================================
// Icon Gradients (Light Mode Only)
// ============================================================

// Badge icon gradient (teal to violet)
.devops-icon-gradient {
  background: linear-gradient(135deg, #0d9488 0%, #14b8a6 40%, #8b5cf6 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  transition: all 0.3s ease;
}

// Dark mode: Keep original solid color
.dark .devops-icon-gradient {
  background: none;
  -webkit-background-clip: unset;
  -webkit-text-fill-color: unset;
  background-clip: unset;
  color: #5eead4; // teal-300
}

// Highlight icon - black on gradient background in light mode
.devops-highlight-icon {
  color: black;
}

// Dark mode: Keep white for contrast
.dark .devops-highlight-icon {
  color: white;
}

// Stat icon gradient (teal to violet)
.devops-stat-icon {
  background: linear-gradient(135deg, #0d9488 0%, #14b8a6 50%, #8b5cf6 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  transition: all 0.3s ease;
}

// Dark mode: Keep original solid color
.dark .devops-stat-icon {
  background: none;
  -webkit-background-clip: unset;
  -webkit-text-fill-color: unset;
  background-clip: unset;
  color: #5eead4; // teal-400
}

// Pipeline stage icons - Active state (black on gradient background in light mode)
.devops-pipeline-icon-active {
  color: black;
}

// Dark mode: Keep white for contrast
.dark .devops-pipeline-icon-active {
  color: white;
}

// Pipeline stage icons - Pending state (gradient in light mode)
.devops-pipeline-icon-pending {
  background: linear-gradient(135deg, #6b7280 0%, #9ca3af 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

// Dark mode: Solid gray color
.dark .devops-pipeline-icon-pending {
  background: none;
  -webkit-background-clip: unset;
  -webkit-text-fill-color: unset;
  background-clip: unset;
  color: #d1d5db; // gray-300
}

// ============================================================
// Dark Mode Adjustments
// ============================================================
.dark .devops-brief-section {
  .devops-highlight {
    background: rgba(30, 41, 59, 0.9);
  }

  .devops-stat {
    background: rgba(30, 41, 59, 0.95);
  }

  .container-float {
    opacity: 0.15;

    &.container-1 {
      border-color: #5eead4;
    }

    &.container-2 {
      border-color: #c4b5fd;
    }

    &.container-3 {
      border-color: #93c5fd;
    }
  }
}

// ============================================================
// Reduced Motion
// ============================================================
@media (prefers-reduced-motion: reduce) {
  .flow-path,
  .container-float,
  .pipeline-stage,
  .connector-flow {
    animation: none !important;
  }

  .devops-highlight,
  .devops-stat,
  .devops-cta-primary,
  .devops-cta-secondary {
    transition: none !important;

    &::before {
      display: none;
    }

    &:hover {
      transform: none;
    }
  }

  .pipeline-connector {
    transition: none !important;
  }
}

// ============================================================
// Responsive Adjustments
// ============================================================
@media (max-width: 768px) {
  .pipeline-container {
    padding: 16px;
  }

  .pipeline-stage > div {
    width: 48px;
    height: 48px;
  }

  .container-float {
    display: none;
  }
}
