/**
 * DevOps Component Styles
 * Service page for DevOps & CI/CD Solutions
 */

.devops-page {
  min-height: 100vh;
  background: var(--color-background);
}

// Hero Section
.hero-section {
  position: relative;
  min-height: 60vh;

  .bg-grid-pattern {
    background-image:
      linear-gradient(rgba(255, 255, 255, 0.1) 1px, transparent 1px),
      linear-gradient(90deg, rgba(255, 255, 255, 0.1) 1px, transparent 1px);
    background-size: 50px 50px;
  }

  // Pipeline flow decoration
  .pipeline-flow {
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg,
      transparent,
      rgba(93, 183, 194, 0.3),
      rgba(107, 76, 154, 0.3),
      transparent);
    animation: pipeline-pulse 3s ease-in-out infinite;

    &::before,
    &::after {
      content: '';
      position: absolute;
      width: 8px;
      height: 8px;
      background: rgba(93, 183, 194, 0.6);
      border-radius: 50%;
      top: -3px;
      animation: pipeline-dot 4s linear infinite;
    }

    &::before {
      left: 20%;
      animation-delay: 0s;
    }

    &::after {
      left: 60%;
      animation-delay: 2s;
    }
  }
}

@keyframes pipeline-pulse {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 0.7; }
}

@keyframes pipeline-dot {
  0% {
    left: 0%;
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    left: 100%;
    opacity: 0;
  }
}

// Statistics Cards
.stat-parallax {
  .group {
    &:hover {
      .bg-gradient-to-br {
        transform: scale(1.1);
      }
    }
  }
}

// Card parallax animation setup
.card-parallax {
  opacity: 0;
  animation: fade-in-up 0.6s ease-out forwards;
}

@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

// Methodology step connectors
.methodology-section {
  .step-parallax {
    position: relative;

    &::after {
      @media (min-width: 1024px) {
        content: '';
        position: absolute;
        top: 32px;
        left: calc(50% + 40px);
        width: calc(100% - 80px);
        height: 2px;
        background: linear-gradient(90deg,
          var(--color-primary-300),
          var(--color-secondary-300));
      }
    }

    &:last-child::after {
      display: none;
    }
  }
}

// Service offering cards
.offerings-section {
  .card-parallax {
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--color-primary-500), var(--color-secondary-500));
      transform: scaleX(0);
      transition: transform 0.3s ease;
      transform-origin: left;
      border-radius: 8px 8px 0 0;
    }

    &:hover::before {
      transform: scaleX(1);
    }
  }
}

// Tooling section
.tooling-section {
  .card-parallax {
    h3 {
      color: var(--color-primary-900);

      @media (prefers-color-scheme: dark) {
        color: var(--color-primary-100);
      }
    }
  }
}

// RTL Support
[dir="rtl"] {
  .methodology-section {
    .step-parallax::after {
      left: auto;
      right: calc(50% + 40px);
    }
  }

  .offerings-section {
    .card-parallax::before {
      transform-origin: right;
    }
  }

  .pipeline-flow {
    &::before,
    &::after {
      animation: pipeline-dot-rtl 4s linear infinite;
    }
  }
}

@keyframes pipeline-dot-rtl {
  0% {
    right: 0%;
    left: auto;
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    right: 100%;
    left: auto;
    opacity: 0;
  }
}

// Dark Mode
[data-theme="dark"] {
  .devops-page {
    .bg-grid-pattern {
      opacity: 0.05 !important;
    }

    .pipeline-flow {
      background: linear-gradient(90deg,
        transparent,
        rgba(93, 183, 194, 0.2),
        rgba(107, 76, 154, 0.2),
        transparent);

      &::before,
      &::after {
        background: rgba(93, 183, 194, 0.4);
      }
    }
  }

  .methodology-section {
    .step-parallax::after {
      background: linear-gradient(90deg,
        var(--color-primary-700),
        var(--color-secondary-700));
    }
  }
}

// Reduced Motion
@media (prefers-reduced-motion: reduce) {
  .devops-page {
    *, *::before, *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }

    .card-parallax {
      animation: none !important;
      opacity: 1 !important;
    }

    .pipeline-flow {
      animation: none !important;
      opacity: 0.5 !important;

      &::before,
      &::after {
        animation: none !important;
        opacity: 0 !important;
      }
    }
  }
}

// Focus States for Accessibility
.devops-page {
  a, button {
    &:focus-visible {
      outline: 2px solid var(--color-primary-500);
      outline-offset: 2px;
    }
  }

  // High contrast on dark sections
  .cta-section {
    a:focus-visible,
    button:focus-visible {
      outline: 3px solid white;
      outline-offset: 2px;
    }
  }
}

// Responsive adjustments
@media (max-width: 768px) {
  .hero-section {
    min-height: 50vh;

    h1 {
      font-size: 2rem;
    }

    .pipeline-flow {
      display: none;
    }
  }

  .methodology-section {
    .step-parallax {
      margin-bottom: 2rem;
    }
  }
}

@media (min-width: 769px) and (max-width: 1024px) {
  .hero-section h1 {
    font-size: 3rem;
  }
}
