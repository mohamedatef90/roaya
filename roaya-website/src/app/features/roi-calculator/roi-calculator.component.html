<div class="roi-calculator-page">
  <!-- Hero Section -->
  <section class="hero-section">
    <div class="container mx-auto px-4 py-16 md:py-24">
      <div class="text-center max-w-4xl mx-auto">
        <span class="badge">{{ 'roiCalculator.leadCapture.badge' | translate }}</span>
        <h1 class="title">{{ 'roiCalculator.leadCapture.title' | translate }}</h1>
        <p class="subtitle">{{ 'roiCalculator.leadCapture.subtitle' | translate }}</p>
      </div>
    </div>
  </section>

  <!-- Lead Capture Form Section -->
  <section class="calculator-section">
    <div class="container mx-auto px-4 pb-16 md:pb-24">
      <div class="max-w-2xl mx-auto">
        <div class="calculator-card">

          <!-- Success State -->
          <div *ngIf="isSubmitted()" class="text-center py-8">
            <div class="w-20 h-20 mx-auto mb-6 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center">
              <svg class="w-10 h-10 text-green-600 dark:text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
              </svg>
            </div>
            <h2 class="text-2xl font-bold mb-2">{{ 'contact.form.success.title' | translate }}</h2>
            <p class="text-neutral-600 dark:text-neutral-400 mb-6">{{ 'contact.form.success.message' | translate }}</p>
            <button
              (click)="resetForm()"
              class="inline-flex items-center gap-2 px-6 py-3 bg-primary-100 dark:bg-primary-900/30 text-primary-600 dark:text-secondary-400 rounded-xl font-medium hover:bg-primary-200 dark:hover:bg-primary-900/50 transition-colors"
            >
              {{ 'contact.form.success.another' | translate }}
            </button>
          </div>

          <!-- Form -->
          <form *ngIf="!isSubmitted()" [formGroup]="roiForm" (ngSubmit)="onSubmit()" class="space-y-6 p-6 md:p-8">

            <!-- Form Header -->
            <div class="text-center mb-8">
              <h2 class="text-2xl font-bold mb-2">{{ 'cta.requestRoiAnalysis' | translate }}</h2>
              <p class="text-neutral-600 dark:text-neutral-400">{{ 'roiCalculator.leadCapture.benefits.item4' | translate }}</p>
            </div>

            <div class="grid md:grid-cols-2 gap-6">
              <!-- Company Name -->
              <div>
                <label for="companyName" class="block text-sm font-medium mb-2">
                  {{ 'roiCalculator.leadCapture.form.companyName' | translate }} <span class="text-red-500">*</span>
                </label>
                <input
                  type="text"
                  id="companyName"
                  formControlName="companyName"
                  class="w-full px-4 py-3 rounded-xl border border-border bg-background focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"
                  [placeholder]="'roiCalculator.leadCapture.form.companyPlaceholder' | translate"
                />
                <p *ngIf="hasFieldError('companyName')" class="mt-1 text-sm text-red-500">
                  {{ 'validation.required' | translate }}
                </p>
              </div>

              <!-- Email -->
              <div>
                <label for="email" class="block text-sm font-medium mb-2">
                  {{ 'contact.form.email' | translate }} <span class="text-red-500">*</span>
                </label>
                <input
                  type="email"
                  id="email"
                  formControlName="email"
                  class="w-full px-4 py-3 rounded-xl border border-border bg-background focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"
                  [placeholder]="'contact.form.emailPlaceholder' | translate"
                />
                <p *ngIf="hasFieldError('email')" class="mt-1 text-sm text-red-500">
                  {{ getFieldError('email') | translate }}
                </p>
              </div>
            </div>

            <!-- Phone -->
            <div>
              <label for="phone" class="block text-sm font-medium mb-2">
                {{ 'contact.form.phone' | translate }}
              </label>
              <input
                type="tel"
                id="phone"
                formControlName="phone"
                class="w-full px-4 py-3 rounded-xl border border-border bg-background focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"
                [placeholder]="'contact.form.phonePlaceholder' | translate"
              />
            </div>

            <!-- Current IT Spend -->
            <div>
              <label for="currentSpend" class="block text-sm font-medium mb-2">
                {{ 'roiCalculator.leadCapture.form.currentSpend' | translate }}
              </label>
              <select
                id="currentSpend"
                formControlName="currentSpend"
                class="w-full px-4 py-3 rounded-xl border border-border bg-background focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"
              >
                <option value="">{{ 'roiCalculator.leadCapture.form.currentSpendPlaceholder' | translate }}</option>
                <option value="under10k">{{ 'roiCalculator.leadCapture.form.spendRanges.under10k' | translate }}</option>
                <option value="10to50k">{{ 'roiCalculator.leadCapture.form.spendRanges.10to50k' | translate }}</option>
                <option value="50to100k">{{ 'roiCalculator.leadCapture.form.spendRanges.50to100k' | translate }}</option>
                <option value="over100k">{{ 'roiCalculator.leadCapture.form.spendRanges.over100k' | translate }}</option>
                <option value="preferNotSay">{{ 'roiCalculator.leadCapture.form.spendRanges.preferNotSay' | translate }}</option>
              </select>
            </div>

            <!-- Pain Points -->
            <div>
              <label class="block text-sm font-medium mb-3">
                {{ 'roiCalculator.leadCapture.form.painPoints' | translate }}
              </label>
              <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                <label *ngFor="let painPoint of painPoints" class="flex items-center gap-2 cursor-pointer">
                  <input
                    type="checkbox"
                    [value]="painPoint.value"
                    (change)="onPainPointChange($event)"
                    class="w-4 h-4 text-primary-600 border-border rounded focus:ring-primary-500"
                  />
                  <span class="text-sm">{{ painPoint.label | translate }}</span>
                </label>
              </div>
            </div>

            <!-- Error Message -->
            <div *ngIf="hasError()" class="p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl">
              <p class="text-red-600 dark:text-red-400 text-sm">{{ 'contact.form.error' | translate }}</p>
            </div>

            <!-- Submit Button -->
            <button
              type="submit"
              [disabled]="isSubmitting()"
              class="w-full inline-flex items-center justify-center gap-2 px-8 py-4 bg-gradient-to-r from-primary-600 to-secondary-500 text-white rounded-xl font-semibold hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed"
            >
              <span *ngIf="!isSubmitting()">{{ 'roiCalculator.leadCapture.form.submit' | translate }}</span>
              <span *ngIf="isSubmitting()">{{ 'contact.form.submitting' | translate }}</span>
              <svg *ngIf="!isSubmitting()" class="w-5 h-5 rtl:rotate-180" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M17 8l4 4m0 0l-4 4m4-4H3" />
              </svg>
              <svg *ngIf="isSubmitting()" class="w-5 h-5 animate-spin" fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
              </svg>
            </button>
          </form>
        </div>
      </div>
    </div>
  </section>

  <!-- What You'll Receive Section -->
  <section class="py-16 bg-surface">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto text-center">
        <h2 class="text-2xl md:text-3xl font-bold mb-8">{{ 'roiCalculator.leadCapture.benefits.title' | translate }}</h2>
        <div class="grid md:grid-cols-2 gap-6">
          <div class="flex items-start gap-4 text-left p-4 bg-background rounded-xl">
            <div class="w-10 h-10 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0">
              <svg class="w-5 h-5 text-green-600 dark:text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
              </svg>
            </div>
            <p class="text-neutral-700 dark:text-neutral-300">{{ 'roiCalculator.leadCapture.benefits.item1' | translate }}</p>
          </div>
          <div class="flex items-start gap-4 text-left p-4 bg-background rounded-xl">
            <div class="w-10 h-10 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0">
              <svg class="w-5 h-5 text-green-600 dark:text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
              </svg>
            </div>
            <p class="text-neutral-700 dark:text-neutral-300">{{ 'roiCalculator.leadCapture.benefits.item2' | translate }}</p>
          </div>
          <div class="flex items-start gap-4 text-left p-4 bg-background rounded-xl">
            <div class="w-10 h-10 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0">
              <svg class="w-5 h-5 text-green-600 dark:text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
              </svg>
            </div>
            <p class="text-neutral-700 dark:text-neutral-300">{{ 'roiCalculator.leadCapture.benefits.item3' | translate }}</p>
          </div>
          <div class="flex items-start gap-4 text-left p-4 bg-background rounded-xl">
            <div class="w-10 h-10 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0">
              <svg class="w-5 h-5 text-green-600 dark:text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
              </svg>
            </div>
            <p class="text-neutral-700 dark:text-neutral-300">{{ 'roiCalculator.leadCapture.benefits.item4' | translate }}</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Social Proof -->
  <section class="py-16 bg-gradient-to-r from-primary-600 to-secondary-500 text-white">
    <div class="container mx-auto px-4 text-center">
      <div class="max-w-2xl mx-auto">
        <div class="text-5xl font-bold mb-4">150+</div>
        <p class="text-xl text-white/90">{{ 'roiCalculator.leadCapture.socialProof' | translate }}</p>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="py-20 bg-background">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto bg-surface rounded-3xl p-8 md:p-12 text-center border border-border">
        <h2 class="text-2xl md:text-3xl font-bold mb-4">{{ 'pricing.cta.title' | translate }}</h2>
        <p class="text-lg text-neutral-600 dark:text-neutral-400 mb-8 max-w-2xl mx-auto">
          {{ 'pricing.cta.description' | translate }}
        </p>
        <div class="flex flex-col sm:flex-row items-center justify-center gap-4">
          <a
            routerLink="/contact"
            class="inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-primary-600 to-secondary-500 text-white rounded-xl font-semibold hover:shadow-lg transition-all"
          >
            {{ 'cta.talkToExpert' | translate }}
            <svg class="w-5 h-5 rtl:rotate-180" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M17 8l4 4m0 0l-4 4m4-4H3" />
            </svg>
          </a>
          <a
            href="tel:+201096274996"
            class="inline-flex items-center gap-2 px-8 py-4 bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-secondary-400 rounded-xl font-semibold hover:bg-primary-100 dark:hover:bg-primary-900/50 transition-colors"
          >
            <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
            </svg>
            {{ 'pricing.cta.call' | translate }}
          </a>
        </div>
      </div>
    </div>
  </section>
</div>
