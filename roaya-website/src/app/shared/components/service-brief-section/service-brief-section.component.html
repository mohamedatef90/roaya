<section
  #sectionElement
  class="service-brief-section relative overflow-hidden py-24"
  [attr.data-service-id]="config.id"
>
  <!-- Background Gradient -->
  <div
    class="absolute inset-0 bg-gradient-to-br opacity-50 pointer-events-none"
    [ngClass]="config.gradient"
    aria-hidden="true"
  ></div>

  <!-- Decorative Background Elements -->
  <div class="absolute top-0 right-0 w-96 h-96 bg-primary-500/10 rounded-full blur-3xl opacity-30 pointer-events-none" aria-hidden="true"></div>
  <div class="absolute bottom-0 left-0 w-80 h-80 bg-secondary-500/10 rounded-full blur-3xl opacity-20 pointer-events-none" aria-hidden="true"></div>

  <div class="service-brief__container container mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
    <div
      class="flex flex-col gap-12"
      [ngClass]="{
        'lg:flex-row': !config.reverse,
        'lg:flex-row-reverse': config.reverse
      }"
    >
      <!-- Content Column (60%) -->
      <div class="lg:w-3/5 flex flex-col justify-center">
        <!-- Badge -->
        <div class="service-brief__badge inline-flex items-center gap-2 self-start mb-6">
          <span
            class="inline-block px-4 py-2 text-xs font-semibold uppercase tracking-wider rounded-full
                   bg-primary-500/10 text-primary-700 dark:bg-primary-400/20 dark:text-primary-300
                   backdrop-blur-sm border border-primary-500/20"
          >
            {{ config.badge | translate }}
          </span>
        </div>

        <!-- Title -->
        <h2 class="service-brief__title text-4xl sm:text-5xl lg:text-6xl font-bold mb-4 text-gray-900 dark:text-white leading-tight">
          {{ config.title | translate }}
        </h2>

        <!-- Subtitle -->
        <p class="service-brief__subtitle text-xl sm:text-2xl text-gray-700 dark:text-gray-300 mb-6 font-medium">
          {{ config.subtitle | translate }}
        </p>

        <!-- Description -->
        <p class="service-brief__description text-lg text-gray-600 dark:text-gray-400 mb-8 leading-relaxed max-w-3xl">
          {{ config.description | translate }}
        </p>

        <!-- Highlights Grid -->
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8">
          <div
            *ngFor="let highlight of config.highlights; trackBy: trackByIndex"
            class="service-brief__highlight flex items-start gap-3 p-4 rounded-xl
                   bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm
                   border border-gray-200/50 dark:border-gray-700/50
                   hover:bg-white/80 dark:hover:bg-gray-800/80
                   transition-all duration-300"
          >
            <!-- Icon -->
            <div class="flex-shrink-0 mt-1">
              <div class="w-10 h-10 rounded-lg bg-primary-500/10 dark:bg-primary-400/20 flex items-center justify-center">
                <ng-icon
                  [name]="highlight.icon"
                  class="text-primary-600 dark:text-primary-400"
                  size="20"
                  [attr.aria-hidden]="true"
                />
              </div>
            </div>

            <!-- Text -->
            <div class="flex-1 min-w-0">
              <h3 class="text-base font-semibold text-gray-900 dark:text-white mb-1">
                {{ highlight.title | translate }}
              </h3>
              <p class="text-sm text-gray-600 dark:text-gray-400">
                {{ highlight.description | translate }}
              </p>
            </div>
          </div>
        </div>

        <!-- CTAs -->
        <div class="flex flex-col sm:flex-row gap-4">
          <!-- Primary CTA -->
          <a
            [routerLink]="config.primaryCta.route"
            class="service-brief__cta inline-flex items-center justify-center gap-2 px-6 py-3 rounded-lg font-semibold
                   transition-all duration-300 transform hover:scale-105 hover:shadow-lg
                   focus:outline-none focus:ring-2 focus:ring-offset-2"
            [ngClass]="{
              'bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500 dark:bg-primary-500 dark:hover:bg-primary-600':
                config.primaryCta.style === 'primary',
              'bg-secondary-600 text-white hover:bg-secondary-700 focus:ring-secondary-500 dark:bg-secondary-500 dark:hover:bg-secondary-600':
                config.primaryCta.style === 'secondary',
              'bg-transparent border-2 border-primary-600 text-primary-600 hover:bg-primary-50 dark:border-primary-400 dark:text-primary-400 dark:hover:bg-primary-400/10':
                config.primaryCta.style === 'outline'
            }"
          >
            <span>{{ config.primaryCta.text | translate }}</span>
            <ng-icon
              *ngIf="config.primaryCta.icon"
              [name]="config.primaryCta.icon"
              size="18"
              class="rtl:rotate-180"
              [attr.aria-hidden]="true"
            />
          </a>

          <!-- Secondary CTA -->
          <a
            *ngIf="config.secondaryCta"
            [routerLink]="config.secondaryCta.route"
            class="service-brief__cta inline-flex items-center justify-center gap-2 px-6 py-3 rounded-lg font-semibold
                   transition-all duration-300 transform hover:scale-105 hover:shadow-lg
                   focus:outline-none focus:ring-2 focus:ring-offset-2"
            [ngClass]="{
              'bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500 dark:bg-primary-500 dark:hover:bg-primary-600':
                config.secondaryCta.style === 'primary',
              'bg-secondary-600 text-white hover:bg-secondary-700 focus:ring-secondary-500 dark:bg-secondary-500 dark:hover:bg-secondary-600':
                config.secondaryCta.style === 'secondary',
              'bg-transparent border-2 border-gray-600 text-gray-600 hover:bg-gray-50 dark:border-gray-400 dark:text-gray-400 dark:hover:bg-gray-400/10':
                config.secondaryCta.style === 'outline'
            }"
          >
            <span>{{ config.secondaryCta.text | translate }}</span>
            <ng-icon
              *ngIf="config.secondaryCta.icon"
              [name]="config.secondaryCta.icon"
              size="18"
              class="rtl:rotate-180"
              [attr.aria-hidden]="true"
            />
          </a>
        </div>
      </div>

      <!-- Visual Column (40%) -->
      <div class="lg:w-2/5 flex flex-col justify-center items-center gap-8">
        <!-- Stats (if present) -->
        <div
          *ngIf="config.stats && config.stats.length > 0"
          class="w-full grid grid-cols-2 gap-4"
        >
          <div
            *ngFor="let stat of config.stats; trackBy: trackByStatIndex"
            class="service-brief__stat flex flex-col items-center justify-center p-6 rounded-xl
                   bg-white/70 dark:bg-gray-800/70 backdrop-blur-md
                   border border-gray-200/50 dark:border-gray-700/50
                   shadow-lg"
          >
            <ng-icon
              *ngIf="stat.icon"
              [name]="stat.icon"
              class="text-primary-600 dark:text-primary-400 mb-2"
              size="24"
              [attr.aria-hidden]="true"
            />
            <div class="service-brief__stat-value text-3xl font-bold text-gray-900 dark:text-white mb-1">
              {{ stat.value }}
            </div>
            <div class="text-sm text-gray-600 dark:text-gray-400 text-center">
              {{ stat.label | translate }}
            </div>
          </div>
        </div>

        <!-- Illustration (if present) -->
        <div
          *ngIf="config.illustrationPath"
          class="service-brief__illustration w-full max-w-md"
        >
          <img
            [src]="config.illustrationPath"
            [alt]="config.title | translate"
            class="w-full h-auto drop-shadow-2xl"
            loading="lazy"
          />
        </div>

        <!-- Icon (if no illustration) -->
        <div
          *ngIf="!config.illustrationPath && config.iconPath"
          class="service-brief__icon-wrapper w-48 h-48 flex items-center justify-center
                 bg-gradient-to-br from-primary-500/20 to-secondary-500/20
                 rounded-3xl backdrop-blur-md border border-white/20
                 shadow-2xl"
        >
          <img
            [src]="config.iconPath"
            [alt]="config.title | translate"
            class="w-24 h-24 drop-shadow-xl"
            loading="lazy"
          />
        </div>
      </div>
    </div>
  </div>
</section>
