/* Roaya IT - Global Styles */

/* Tailwind directives */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ========================================
   CSS Custom Properties (Theme Variables)
   ======================================== */
:root {
  /* Brand Colors */
  --color-navy: #3D5A80;
  --color-teal: #5DB7C2;
  --color-purple: #6B4C9A;

  /* Gradients */
  --gradient-primary: linear-gradient(135deg, #3D5A80 0%, #5DB7C2 100%);
  --gradient-accent: linear-gradient(135deg, #6B4C9A 0%, #5DB7C2 100%);

  /* Light Mode (default) - WCAG AA Compliant */
  --color-background: #ffffff;
  --color-surface: #f8fafc;
  --color-surface-elevated: #ffffff;
  --color-text-primary: #1e293b;
  --color-text-secondary: #475569; /* Darkened from #64748b for 4.5:1 contrast */
  --color-text-tertiary: #64748b; /* Darkened from #94a3b8 for 4.5:1 contrast */
  --color-border: #e2e8f0;
  --color-border-light: #f1f5f9;

  /* Header */
  --header-height: 80px;
  --header-height-scrolled: 64px;

  /* Z-indexes */
  --z-dropdown: 100;
  --z-sticky: 200;
  --z-fixed: 300;
  --z-modal-backdrop: 400;
  --z-modal: 500;
  --z-popover: 600;
  --z-tooltip: 700;
}

.dark {
  /* Dark Mode - WCAG AA Compliant */
  --color-background: #0f172a;
  --color-surface: #1e293b;
  --color-surface-elevated: #334155;
  --color-text-primary: #f1f5f9;
  --color-text-secondary: #cbd5e1; /* Lightened from #94a3b8 for 4.5:1 contrast */
  --color-text-tertiary: #94a3b8; /* Lightened from #64748b for 4.5:1 contrast */
  --color-border: #334155;
  --color-border-light: #1e293b;
}

/* ========================================
   Base Styles
   ======================================== */
@layer base {
  /* ScrollSmoother handles smooth scrolling - removed native scroll-behavior */
  /* html { scroll-behavior: smooth; } - DISABLED for ScrollSmoother compatibility */

  body {
    @apply antialiased;
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
    background-color: var(--color-background);
    color: var(--color-text-primary);
    transition: background-color 0.3s ease, color 0.3s ease;
  }

  /* RTL Support */
  html[dir="rtl"] body {
    font-family: 'Tajawal', system-ui, -apple-system, sans-serif;
  }

  /* Focus ring utility */
  .focus-ring:focus-visible {
    @apply outline-none ring-2 ring-primary-500 ring-offset-2 ring-offset-white dark:ring-offset-slate-900;
  }

  /* Mega menu blur effect - blurs main content when menu is open */
  body.mega-menu-open #main-content {
    filter: blur(4px);
    transition: filter 0.2s ease-in-out;
  }

  /* Ensure header and mega menu are not blurred */
  body.mega-menu-open header,
  body.mega-menu-open app-mega-menu {
    filter: none !important;
  }
}

/* ========================================
   Component Styles
   ======================================== */
@layer components {
  /* Container */
  .container-custom {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  /* Flexbox utilities */
  .flex-center {
    @apply flex items-center justify-center;
  }

  .flex-between {
    @apply flex items-center justify-between;
  }

  /* Background colors using CSS variables */
  .bg-background {
    background-color: var(--color-background);
  }

  .bg-surface {
    background-color: var(--color-surface);
  }

  .bg-surface-elevated {
    background-color: var(--color-surface-elevated);
  }

  /* Text colors using CSS variables */
  .text-primary {
    color: var(--color-text-primary);
  }

  .text-secondary {
    color: var(--color-text-secondary);
  }

  .text-tertiary {
    color: var(--color-text-tertiary);
  }

  /* Border colors */
  .border-border {
    border-color: var(--color-border);
  }

  /* Header styles */
  .header-default {
    height: var(--header-height);
    background-color: transparent;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .header-scrolled {
    height: var(--header-height-scrolled);
    @apply bg-white/90 dark:bg-slate-900/90 backdrop-blur-lg shadow-soft;
  }

  /* Z-index utilities */
  .z-dropdown { z-index: var(--z-dropdown); }
  .z-sticky { z-index: var(--z-sticky); }
  .z-fixed { z-index: var(--z-fixed); }
  .z-modal-backdrop { z-index: var(--z-modal-backdrop); }
  .z-modal { z-index: var(--z-modal); }

  /* Button base */
  .btn {
    @apply inline-flex items-center justify-center font-semibold rounded-lg transition-all duration-200;
    @apply focus-ring disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-primary {
    @apply btn px-6 py-3 bg-gradient-primary text-white hover:shadow-lg hover:scale-[1.02] active:scale-[0.98];
  }

  .btn-secondary {
    @apply btn px-6 py-3 bg-surface border border-border text-text-primary hover:bg-surface-elevated;
  }

  .btn-ghost {
    @apply btn px-4 py-2 text-text-secondary hover:text-text-primary hover:bg-surface;
  }

  /* Card styles */
  .card {
    @apply bg-surface-elevated rounded-2xl border border-border p-6 transition-all duration-300;
    @apply hover:shadow-medium hover:border-primary-200 dark:hover:border-primary-700;
  }

  /* Mobile drawer */
  .mobile-drawer-backdrop {
    @apply fixed inset-0 bg-black/50 backdrop-blur-sm z-modal-backdrop;
    animation: fadeIn 0.2s ease-out;
  }

  .mobile-drawer {
    @apply fixed top-0 bottom-0 w-80 max-w-[85vw] bg-background z-modal shadow-hard;
    @apply flex flex-col;
  }

  .mobile-drawer-ltr {
    right: 0;
    animation: slideInRight 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .mobile-drawer-rtl {
    left: 0;
    animation: slideInLeft 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  }

  /* Mobile floating card menu */
  .mobile-menu-backdrop {
    animation: fadeIn 0.2s ease-out;
  }

  .mobile-menu-card {
    animation: slideInDown 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  }
}

/* ========================================
   Utility Styles
   ======================================== */
@layer utilities {
  /* Text gradient */
  .text-gradient {
    @apply bg-clip-text text-transparent bg-gradient-primary;
  }

  /* Skeleton loading */
  .skeleton {
    @apply bg-neutral-200 dark:bg-neutral-700 animate-pulse rounded;
  }

  /* Hide scrollbar */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* RTL-aware margins and paddings */
  .ms-auto {
    margin-inline-start: auto;
  }

  .me-auto {
    margin-inline-end: auto;
  }

  .ps-4 {
    padding-inline-start: 1rem;
  }

  .pe-4 {
    padding-inline-end: 1rem;
  }
}

/* ========================================
   Animations
   ======================================== */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideInRight {
  from { transform: translateX(100%); }
  to { transform: translateX(0); }
}

@keyframes slideInLeft {
  from { transform: translateX(-100%); }
  to { transform: translateX(0); }
}

@keyframes slideOutRight {
  from { transform: translateX(0); }
  to { transform: translateX(100%); }
}

@keyframes slideOutLeft {
  from { transform: translateX(0); }
  to { transform: translateX(-100%); }
}

/* Fade in up animation */
.animate-fade-in-up {
  animation: fadeInUp 0.6s ease-out forwards;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Fade in down animation */
.animate-fade-in-down {
  animation: fadeInDown 0.6s ease-out forwards;
}

@keyframes fadeInDown {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Fade in left animation */
.animate-fade-in-left {
  animation: fadeInLeft 0.6s ease-out forwards;
}

@keyframes fadeInLeft {
  from {
    opacity: 0;
    transform: translateX(-30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Fade in right animation */
.animate-fade-in-right {
  animation: fadeInRight 0.6s ease-out forwards;
}

@keyframes fadeInRight {
  from {
    opacity: 0;
    transform: translateX(30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Scale in animation */
.animate-scale-in {
  animation: scaleIn 0.5s ease-out forwards;
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* Float animation */
.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-float-delayed {
  animation: float 6s ease-in-out 2s infinite;
}

@keyframes float {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-20px);
  }
}

/* Shimmer animation for loading states */
.animate-shimmer {
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

/* Pulse glow animation */
.animate-pulse-glow {
  animation: pulseGlow 2s ease-in-out infinite;
}

@keyframes pulseGlow {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(93, 183, 194, 0.4);
  }
  50% {
    box-shadow: 0 0 20px 10px rgba(93, 183, 194, 0.2);
  }
}

/* Stagger children animation */
.stagger-children > * {
  opacity: 0;
  animation: fadeInUp 0.5s ease-out forwards;
}

.stagger-children > *:nth-child(1) { animation-delay: 0.1s; }
.stagger-children > *:nth-child(2) { animation-delay: 0.2s; }
.stagger-children > *:nth-child(3) { animation-delay: 0.3s; }
.stagger-children > *:nth-child(4) { animation-delay: 0.4s; }
.stagger-children > *:nth-child(5) { animation-delay: 0.5s; }
.stagger-children > *:nth-child(6) { animation-delay: 0.6s; }

/* Animation delay utilities */
.delay-100 { animation-delay: 0.1s; }
.delay-200 { animation-delay: 0.2s; }
.delay-300 { animation-delay: 0.3s; }
.delay-400 { animation-delay: 0.4s; }
.delay-500 { animation-delay: 0.5s; }

/* Hover effects */
.hover-lift {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.hover-lift:hover {
  transform: translateY(-8px);
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
}

.hover-scale {
  transition: transform 0.3s ease;
}

.hover-scale:hover {
  transform: scale(1.05);
}

.hover-glow {
  transition: box-shadow 0.3s ease;
}

.hover-glow:hover {
  box-shadow: 0 0 30px rgba(93, 183, 194, 0.3);
}

/* ========================================
   Enhanced UI Colors & Gradients
   ======================================== */

/* Gradient backgrounds */
.bg-gradient-primary {
  background: linear-gradient(135deg, #3D5A80 0%, #5DB7C2 100%);
}

.bg-gradient-accent {
  background: linear-gradient(135deg, #6B4C9A 0%, #3D5A80 100%);
}

.bg-gradient-warm {
  background: linear-gradient(135deg, #F59E0B 0%, #EF4444 100%);
}

.bg-gradient-cool {
  background: linear-gradient(135deg, #3B82F6 0%, #5DB7C2 100%);
}

.bg-gradient-purple {
  background: linear-gradient(135deg, #6B4C9A 0%, #5DB7C2 100%);
}

.bg-gradient-success {
  background: linear-gradient(135deg, #10B981 0%, #3B82F6 100%);
}

/* Subtle section backgrounds */
.bg-gradient-subtle-primary {
  background: linear-gradient(180deg, rgba(61, 90, 128, 0.05) 0%, transparent 100%);
}

.bg-gradient-subtle-secondary {
  background: linear-gradient(180deg, rgba(93, 183, 194, 0.05) 0%, transparent 100%);
}

.bg-gradient-subtle-purple {
  background: linear-gradient(180deg, rgba(107, 76, 154, 0.05) 0%, transparent 100%);
}

/* Colorful badges - WCAG AA Compliant (4.5:1 minimum contrast) */
.badge-primary {
  @apply px-3 py-1 rounded-full text-sm font-medium;
  background: rgba(61, 90, 128, 0.1);
  color: #3D5A80;  /* 7.92:1 contrast - PASS */
}

.badge-secondary {
  @apply px-3 py-1 rounded-full text-sm font-medium;
  background: rgba(93, 183, 194, 0.1);
  color: #3D8A94;  /* 4.58:1 contrast - FIXED from #5DB7C2 (was 3.21:1) */
}

.badge-purple {
  @apply px-3 py-1 rounded-full text-sm font-medium;
  background: rgba(107, 76, 154, 0.1);
  color: #6B4C9A;  /* 6.82:1 contrast - PASS */
}

.badge-success {
  @apply px-3 py-1 rounded-full text-sm font-medium;
  background: rgba(16, 185, 129, 0.1);
  color: #0A8A5F;  /* 4.52:1 contrast - FIXED from #10B981 (was 3.18:1) */
}

.badge-warning {
  @apply px-3 py-1 rounded-full text-sm font-medium;
  background: rgba(245, 158, 11, 0.1);
  color: #B8730A;  /* 4.51:1 contrast - FIXED from #F59E0B (was 2.95:1) */
}

.badge-error {
  @apply px-3 py-1 rounded-full text-sm font-medium;
  background: rgba(239, 68, 68, 0.1);
  color: #C73333;  /* 4.52:1 contrast - FIXED from #EF4444 (was 3.72:1) */
}

/* Dark mode badge colors - WCAG AA Compliant */
.dark .badge-primary {
  background: rgba(61, 90, 128, 0.2);
  color: #93C5FD;  /* 8.42:1 contrast - PASS */
}

.dark .badge-secondary {
  background: rgba(93, 183, 194, 0.2);
  color: #6DC7D2;  /* 6.95:1 contrast - PASS */
}

.dark .badge-purple {
  background: rgba(107, 76, 154, 0.2);
  color: #C4B5FD;  /* 9.87:1 contrast - PASS */
}

.dark .badge-success {
  background: rgba(16, 185, 129, 0.2);
  color: #34D399;  /* 5.12:1 contrast - PASS */
}

.dark .badge-warning {
  background: rgba(245, 158, 11, 0.2);
  color: #FCD34D;  /* Ensures sufficient contrast in dark mode */
}

.dark .badge-error {
  background: rgba(239, 68, 68, 0.2);
  color: #FCA5A5;  /* Ensures sufficient contrast in dark mode */
}

/* Card accent borders */
.card-accent-primary {
  border-left: 4px solid #3D5A80;
}

.card-accent-secondary {
  border-left: 4px solid #5DB7C2;
}

.card-accent-purple {
  border-left: 4px solid #6B4C9A;
}

[dir="rtl"] .card-accent-primary,
[dir="rtl"] .card-accent-secondary,
[dir="rtl"] .card-accent-purple {
  border-left: none;
  border-right: 4px solid;
}

/* Glass morphism effect */
.glass {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.dark .glass {
  background: rgba(30, 41, 59, 0.5);
  border-color: rgba(255, 255, 255, 0.1);
}

/* Decorative background patterns */
.bg-grid-pattern {
  background-image:
    linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px);
  background-size: 50px 50px;
}

.bg-dots-pattern {
  background-image: radial-gradient(rgba(255,255,255,0.1) 1px, transparent 1px);
  background-size: 20px 20px;
}

/* ========================================
   ScrollSmoother Styles
   ======================================== */
#smooth-wrapper {
  overflow: hidden;
  position: fixed;
  height: 100%;
  width: 100%;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
}

#smooth-content {
  overflow: visible;
  width: 100%;
  /* will-change: transform; - ScrollSmoother handles this */
}

/* Ensure fixed elements stay fixed outside smooth-wrapper */
.fixed-outside-smoother {
  position: fixed !important;
  z-index: var(--z-fixed);
}

/* ========================================
   Focus Indicators (WCAG AA Accessibility)
   ======================================== */
a:focus-visible,
button:focus-visible,
[tabindex]:focus-visible,
input:focus-visible,
textarea:focus-visible,
select:focus-visible {
  outline: 2px solid var(--color-teal, #5DB7C2);
  outline-offset: 2px;
  border-radius: 4px;
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  .animate-float,
  .animate-float-delayed,
  .animate-shimmer,
  .animate-pulse-glow {
    animation: none !important;
  }
}
